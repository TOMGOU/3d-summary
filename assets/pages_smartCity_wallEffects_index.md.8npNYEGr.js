import{_ as s,c as A,o as i,V as a}from"./chunks/framework.dnpgIXFM.js";const n="data:image/png;base64,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",r=JSON.parse('{"title":"光墙特效","description":"","frontmatter":{},"headers":[],"relativePath":"pages/smartCity/wallEffects/index.md","filePath":"pages/smartCity/wallEffects/index.md"}'),t={name:"pages/smartCity/wallEffects/index.md"},E=a('<h1 id="光墙特效" tabindex="-1">光墙特效 <a class="header-anchor" href="#光墙特效" aria-label="Permalink to &quot;光墙特效&quot;">​</a></h1><blockquote><p>把光线图片作为贴图赋给材质，然后通过 offset，进行平移动画，实现光墙特效。</p></blockquote><p><img src="'+n+`" alt="光线图片"></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> THREE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;three&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> texture</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> THREE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TextureLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">load</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./3D/texture/light-line.png&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 设置阵列模式为 RepeatWrapping</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">texture.wrapS </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> THREE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.RepeatWrapping</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">texture.wrapT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> THREE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.RepeatWrapping</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">texture.repeat.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">texture.repeat.y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> flowAnimation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  requestAnimationFrame</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(flowAnimation)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // texture.offset.y -= 0.02;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  texture.offset.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.02</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flowAnimation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> LR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> buildingModel.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getObjectByName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;左右&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  LR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.material </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> THREE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MeshLambertMaterial</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    color: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0xffff00</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    transparent: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//允许透明计算</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    map: texture,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    opacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    side: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">THREE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.DoubleSide,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    depthTest: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,4),k=[E];function p(h,l,e,g,C,B){return i(),A("div",null,k)}const I=s(t,[["render",p]]);export{r as __pageData,I as default};
